```c++
/*************************************************************************

    > Author:    hug

    > Problem:   自由之翼

    > Mail:      hug@haizeix.com

************************************************************************/

 

#include <iostream>

#include <string>

using std::cin;

using std::cout;

using std::endl;

using std::string;


class Troop {

    public :

    Troop(string name, int hp) : total_num(0), name(name), hp(hp) {}

    Troop(Troop &t) : total_num(t.total_num), name(t.name), hp(t.hp) {}

    void addOne() { this->total_num++; }

    void setID(int id) { this->id = id; }

    int getHP() { return this->hp; }

    void show() {

        cout << name << " " << id << " born with HP ";

        cout << hp << " " << total_num << " " << name;

    }

    private :

    string name;

    int id;

    int total_num;

    int hp;

};

 

class Base {

    public :

    Base(string name, int hp, Troop &t1, Troop &t2, Troop &t3) :

    name(name), hp(hp), time(-1),

    t1(t1), t2(t2), t3(t3) {

    }

    bool build() {

        if (!__can_build()) { return false; }

        time++;

        int flag = -1;

        cout << "Time: " << time << "  " << name << " ";

        do {

            flag++;

            switch ((time + flag) % 3) {

                case 0:

                    if (hp >= t1.getHP()) {

                        t1.addOne();

                        t1.setID(time);

                        t1.show();

                        flag = -1;

                        hp -= t1.getHP();

                    }

                    break;

                case 1:

                    if (hp >= t2.getHP()) {

                        t2.addOne();

                        t2.setID(time);

                        t2.show();

                        flag = -1;

                        hp -= t2.getHP();

                    }

                    break;

                case 2:

                    if (hp >= t3.getHP()) {

                        t3.addOne();

                        t3.setID(time);

                        t3.show();

                        flag = -1;

                        hp -= t3.getHP();

                    }

                    break;

            }

        } while (flag != -1);

        cout << " in base " << name << endl;

        return true;

    }

    private :

    bool __can_build() {

        if (hp >= 4) return true;

        __show_stop();

        return false;

    }

    void __show_stop() {

        cout << "Time: " << time << "  " << name;

        cout << " base stop training troopers." << endl;

    }

    string name;

    Troop t1, t2, t3;

    int time;

    int hp;

};

 

int main() {

    int hp;

    cin >> hp;

    Troop scv("SCV", 10), marine("Marine", 5), medic("Medic", 4);

    Base Raynor("Raynor", hp, scv, marine, medic);

    Base Mengsk("Mengsk", hp, marine, medic, scv);

    while (Raynor.build()) ;

    while (Mengsk.build()) ;

    return 0;
}

```

